{
  "scopeName": "source.bnlang",
  "name": "Bnlang",
  "fileTypes": ["bnl"],
  "patterns": [
    { "include": "#comments" },
    { "include": "#regex-literal" },
    { "include": "#strings" },
    { "include": "#numbers" },
    { "include": "#function-definition" },
    { "include": "#function-call" },
    { "include": "#class-definition" },
    { "include": "#class-instantiation" },
    { "include": "#keywords" },
    { "include": "#constants" },
    { "include": "#identifiers" },
    { "include": "#operators" },
    { "include": "#punctuation" }
  ],
  "repository": {
    "comments": {
      "patterns": [
        { "name": "comment.line.double-slash.bnlang", "match": "//.*$" },
        {
          "name": "comment.block.bnlang",
          "begin": "/\\*",
          "end": "\\*/",
          "captures": { "0": { "name": "punctuation.definition.comment.bnlang" } }
        }
      ]
    },

    "regex-literal": {
      "patterns": [
        {
          "name": "string.regexp.bnlang",
          "begin": "(?x)\n  (?:\n    (?<=^)\n  | (?<=\\()    \\s*\n  | (?<=,)      \\s*\n  | (?<==)      \\s*\n  | (?<=:)      \\s*\n  | (?<=\\{)     \\s*\n  | (?<=\\[)     \\s*\n  | (?<=!)      \\s*\n  | (?<=\\?)     \\s*\n  | (?<=;)      \\s*\n  | (?<=\\|\\|)   \\s*\n  | (?<=&&)     \\s*\n  | (?<=\\+)     \\s*\n  | (?<=-)      \\s*\n  | (?<=\\*)     \\s*\n  | (?<=%)      \\s*\n  | (?<=~)      \\s*\n  | (?<=\\^)     \\s*\n  | (?<=<<)     \\s*\n  | (?<=>>)     \\s*\n  | (?<=>>>)    \\s*\n  | (?<=<)      \\s*\n  | (?<==)      \\s*\n  | (?<===)     \\s*\n  | (?<=return )\n  | (?<=throw  )\n  | (?<=case   )\n  | (?<=yield  )\n  | (?<=of     )\n  | (?<=in     )\n  | (?<=instanceof )\n  | (?<=typeof )\n  | (?<=delete )\n  | (?<=void   )\n  )\n  /(?![/*])",
          "beginCaptures": { "0": { "name": "punctuation.definition.regexp.begin.bnlang" } },
          "end": "/[dgimsuvy]*",
          "endCaptures":   { "0": { "name": "punctuation.definition.regexp.end.bnlang" } },
          "patterns": [
            { "name": "constant.character.escape.bnlang", "match": "\\\\." },
            {
              "name": "constant.other.character-class.set.bnlang",
              "begin": "\\[",
              "end": "\\]",
              "patterns": [
                { "name": "constant.character.escape.bnlang", "match": "\\\\." }
              ]
            }
          ]
        }
      ]
    },

    "strings": {
      "patterns": [
        {
          "name": "string.quoted.double.bnlang",
          "begin": "\"",
          "end": "\"",
          "patterns": [{ "match": "\\\\.", "name": "constant.character.escape.bnlang" }]
        },
        {
          "name": "string.quoted.single.bnlang",
          "begin": "'",
          "end": "'",
          "patterns": [{ "match": "\\\\.", "name": "constant.character.escape.bnlang" }]
        },
        {
          "name": "string.template.bnlang",
          "begin": "`",
          "end": "`",
          "patterns": [
            { "begin": "\\$\\{", "end": "\\}", "name": "meta.embedded.line.bnlang", "patterns": [{ "include": "$self" }] }
          ]
        }
      ]
    },

    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric.bnlang",
          "match": "(?<![\\p{L}\\p{N}_])(?:0[xX][0-9A-Fa-f]+|\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?)(?![\\p{L}\\p{N}_])"
        }
      ]
    },

    "function-definition": {
      "patterns": [
        {
          "name": "meta.function.bnlang",
          "begin": "(?<![\\p{L}\\p{N}_])(function|ফাংশন)\\s+",
          "beginCaptures": { "1": { "name": "keyword.declaration.function.bnlang" } },
          "end": "(?=\\()",
          "patterns": [
            {
              "name": "entity.name.function.bnlang",
              "match": "(?:[A-Za-z_\\$][A-Za-z0-9_\\$]*|[\\x{0980}-\\x{09FF}_][\\x{0980}-\\x{09FF}0-9_\\$]*)"
            }
          ]
        }
      ]
    },

    "function-call": {
      "patterns": [
        {
          "name": "meta.function-call.bnlang",
          "match": "(?<![\\p{L}\\p{N}_])(?!(?:if|যদি|jodi|else|নাহলে|nahole|switch|বিকল্প|bikolpo|case|অবস্থা|obostha|default|অন্যথায়|onnothay|for|প্রতি|proti|while|যতক্ষণ|jotokkhon|do|করুন|korun|break|থামুন|thamun|continue|চলুন|colun|return|ফেরত|ferot|throw|নিক্ষেপ|nikkhep|try|চেষ্টা|ceshta|catch|ধরুন|dhorun|finally|অবশেষে|obosheshe|var|চলক|cholok|let|ধরি|dhori|const|ধ্রুবক|dhrubok|function|ফাংশন|class|শ্রেণী|shreni|extends|প্রসারিত|prosarito|super|অভিভাবক|obhibhabok|typeof|ধরন|dhoron|instanceof|উদাহরণ_হিসেবে|udahoron_hisebe|in|মধ্যে|modhye|of|এর|er|void|ফাঁকা|faka|delete|মুছুন|muchun|await|অপেক্ষা|opekkha|async|অসমলয়|osomoloy|yield|উৎপন্ন_করুন|utponno_korun|this|এটি|eti|new|নতুন|notun|with|সাথে|sathe|debugger|ডিবাগার|dibagar|static|স্থির|sthir|true|সত্য|shotto|false|মিথ্যা|mithya|null|শূন্য|shunno|undefined)\\b)(?:[A-Za-z_\\$][A-Za-z0-9_\\$]*|[\\x{0980}-\\x{09FF}_][\\x{0980}-\\x{09FF}0-9_\\$]*)\\s*(?=\\()",
          "captures": { "0": { "name": "entity.name.function.bnlang" } }
        }
      ]
    },

    "class-definition": {
      "patterns": [
        {
          "name": "meta.class.bnlang",
          "begin": "(?<![\\p{L}\\p{N}_])(class|শ্রেণী|shreni)\\s+",
          "beginCaptures": { "1": { "name": "keyword.declaration.class.bnlang" } },
          "end": "(?=\\{)",
          "patterns": [
            {
              "name": "entity.name.class.bnlang",
              "match": "(?:[A-Za-z_\\$][A-Za-z0-9_\\$]*|[\\x{0980}-\\x{09FF}_][\\x{0980}-\\x{09FF}0-9_\\$]*)"
            },
            {
              "name": "meta.class.extends.bnlang",
              "match": "\\b(extends|প্রসারিত|prosarito|implements)\\b\\s+((?:[A-Za-z_\\$][A-Za-z0-9_\\$]*|[\\x{0980}-\\x{09FF}_][\\x{0980}-\\x{09FF}0-9_\\$]*))",
              "captures": {
                "1": { "name": "keyword.other.extends.bnlang" },
                "2": { "name": "entity.other.inherited-class.bnlang" }
              }
            }
          ]
        }
      ]
    },

    "class-instantiation": {
      "patterns": [
        {
          "name": "meta.class-instantiation.bnlang",
          "match": "(?<![\\p{L}\\p{N}_])(new|নতুন|notun)\\s+((?:[A-Za-z_\\$][A-Za-z0-9_\\$]*|[\\x{0980}-\\x{09FF}_][\\x{0980}-\\x{09FF}0-9_\\$]*))",
          "captures": {
            "1": { "name": "keyword.operator.new.bnlang" },
            "2": { "name": "entity.name.class.bnlang" }
          }
        }
      ]
    },

    "keywords": {
      "patterns": [
        { "name": "keyword.control.conditional.bnlang", "match": "(?<![\\p{L}\\p{N}_])(if|যদি|jodi|else|নাহলে|nahole)(?![\\p{L}\\p{N}_])" },
        { "name": "keyword.control.loop.bnlang", "match": "(?<![\\p{L}\\p{N}_])(for|প্রতি|proti|while|যতক্ষণ|jotokkhon|do|করুন|korun)(?![\\p{L}\\p{N}_])" },
        { "name": "keyword.control.switch.bnlang", "match": "(?<![\\p{L}\\p{N}_])(switch|বিকল্প|bikolpo|case|অবস্থা|obostha|default|অন্যথায়|onnothay)(?![\\p{L}\\p{N}_])" },
        { "name": "keyword.declaration.bnlang", "match": "(?<![\\p{L}\\p{N}_])(let|ধরি|dhori|const|ধ্রুবক|dhrubok|var|চলক|cholok|class|শ্রেণী|shreni|extends|প্রসারিত|prosarito|super|অভিভাবক|obhibhabok|static|স্থির|sthir)(?![\\p{L}\\p{N}_])" },
        { "name": "keyword.control.trycatch.bnlang", "match": "(?<![\\p{L}\\p{N}_])(try|চেষ্টা|ceshta|catch|ধরুন|dhorun|finally|অবশেষে|obosheshe|throw|নিক্ষেপ|nikkhep)(?![\\p{L}\\p{N}_])" },
        { "name": "keyword.control.flow.bnlang", "match": "(?<![\\p{L}\\p{N}_])(break|থামুন|thamun|continue|চলুন|colun|return|ফেরত|ferot)(?![\\p{L}\\p{N}_])" },
        { "name": "keyword.operator.new.bnlang", "match": "(?<![\\p{L}\\p{N}_])(new|নতুন|notun)(?![\\p{L}\\p{N}_])" },
        { "name": "storage.modifier.async.bnlang", "match": "(?<![\\p{L}\\p{N}_])(async|অসমলয়|osomoloy|await|অপেক্ষা|opekkha|yield|উৎপন্ন_করুন|utponno_korun)(?![\\p{L}\\p{N}_])" },
        { "name": "keyword.operator.wordlike.bnlang", "match": "(?<![\\p{L}\\p{N}_])(typeof|ধরন|dhoron|instanceof|উদাহরণ_হিসেবে|udahoron_hisebe|in|মধ্যে|modhye|of|এর|er|void|ফাঁকা|faka|delete|মুছুন|muchun|this|এটি|eti|with|সাথে|sathe|debugger|ডিবাগার|dibagar)(?![\\p{L}\\p{N}_])" }
      ]
    },

    "constants": {
      "patterns": [
        { "name": "constant.language.boolean.bnlang", "match": "(?<![\\p{L}\\p{N}_])(true|সত্য|shotto|false|মিথ্যা|mithya)(?![\\p{L}\\p{N}_])" },
        { "name": "constant.language.null.bnlang", "match": "(?<![\\p{L}\\p{N}_])(null|शূন্য|shunno|undefined)(?![\\p{L}\\p{N}_])" }
      ]
    },

    "identifiers": {
      "patterns": [
        { "name": "variable.other.readwrite.bnlang", "match": "(?:[A-Za-z_\\$][A-Za-z0-9_\\$]*|[\\x{0980}-\\x{09FF}_][\\x{0980}-\\x{09FF}0-9_\\$]*)" }
      ]
    },

    "operators": {
      "patterns": [
        { "name": "keyword.operator.bnlang", "match": "(===|!==|==|!=|<=|>=|=>|\\+\\+|--|&&|\\|\\||\\+|-|\\*|/|%|\\?|:|=|<|>)" }
      ]
    },

    "punctuation": {
      "patterns": [
        { "name": "punctuation.brackets.curly.bnlang", "match": "[\\{\\}]" },
        { "name": "punctuation.brackets.round.bnlang", "match": "[\\(\\)]" },
        { "name": "punctuation.brackets.square.bnlang", "match": "[\\[\\]]" },
        { "name": "punctuation.comma.bnlang", "match": "," },
        { "name": "punctuation.semicolon.bnlang", "match": ";" },
        { "name": "punctuation.dot.bnlang", "match": "\\." }
      ]
    }
  }
}
